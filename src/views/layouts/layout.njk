<!DOCTYPE html>
<html lang="ar">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {{ hooks.seo | safe }}
        {{ hooks.head | safe }}
        <link rel="stylesheet" href={{"style.css" | assets}}>
    </head>
    <script src="http://127.0.0.1:5501/dist/gearbox/qumra-gearbox.js" defer></script>

    {# <script type="module" src="https://cdn.jsdelivr.net/npm/qumra-ui@0.0.77/dist/esm/qumra-ui.js"></script> #}
    {# <script type="module" src="http://127.0.0.1:5500/dist/esm/qumra-ui.js"></script> #}
    <style>
        * {
            font-family: "{{global.app.settings.font.title}}" !important;
        }
        :root {
            --mainRadius: 18px;
        }
    </style>
    <body style="background-color: white;overflow-x: hidden" dir="rtl">

        {% include "common/static/loading/index.njk" ignore missing %}
        <div class=" flex-col flex gap-10">
            {% include "common/header.njk" ignore missing %}
            <div class=" min-h-screen">

                <div x-data="CartList()" x-init="init()">
                    <h2>قائمة الفاكهة:</h2>
                    <ul>
                        <template x-for="(item, index) in items" :key="index">
                            <li x-text="item"></li>
                        </template>
                    </ul>
                </div>

                {% block content %}{% endblock %}
            </div>
            {% include "common/footer.njk" ignore missing %}
        </div>
        <div x-data="CartButton()">
            <p x-text="count"></p>
        </div>
        <script src={{"app.js" | assets }}></script>
        <script>
            function CartList() {
                return {
                    items: [
                        'تفاحة', 'موز', 'برتقال', 'عنب'
                    ],
                    updateCartNumber(newFruit) {
                        // تحديث عنصر محدد في المصفوفة
                        this.items = newFruit;
                    },
                    init() {
                        window.updateCart = this
                            .updateCart
                            .bind(this);
                    }
                }
            }
            function CartButton() {
                return {
                    count: 5,
                    updateCartNumber(newNum) {
                        this.count = newNum;
                    },
                    init() {
                        window.updateCartNumber = this
                            .updateCartNumber
                            .bind(this);
                    }
                }
            }
            console.log("context", {{ context | dump | safe }})
            console.log("global", {{ global | dump | safe}})
        </script>
        {{ hooks.body | safe }}

    </body>

</html>